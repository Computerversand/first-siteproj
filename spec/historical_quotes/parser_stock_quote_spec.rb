
require 'spec_helper'

module HistoricQuotes
  describe ParserStockQuote do
    before(:each) do
      sample_row = "012003021202VALE3      |010VALE R DOCE|ON       |  1R$ |000000001050100000000105010000000010250000000001036800000000103210000000010321000000001043800142000000000000069500000000000720641400000000000000009999123100000010000000000000BRVALEACNOR0159"
      parser = ParserStockQuote.new
      @stock_quote = parser.parse sample_row
    end

    it "should return nil if line does not start with 01" do
      sample_row = "052003021202VALE3      |010VALE R DOCE|ON       |  1R$ |000000001050100000000105010000000010250000000001036800000000103210000000010321000000001043800142000000000000069500000000000720641400000000000000009999123100000010000000000000BRVALEACNOR0159"
      parser = ParserStockQuote.new